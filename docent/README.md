# Docent Integration for LLM-Deliberation

This directory contains all the tools needed to analyze LLM-Deliberation agent trajectories using Transluce Docent.

## 📋 Quick Start Workflow

### Prerequisites
```bash
# Make sure you have the API key set
export DOCENT_API_KEY='your_api_key_here'
```

### Step 1: Parse Trajectory Data
```bash
cd docent/
python docent_trajectory_parser.py
```
**Output:** `docent_prepared_data.json` (processed trajectory data)

### Step 2: Ingest to Docent Platform
```bash
python docent_proper_ingestion.py
```
**Result:** Data uploaded to Docent for analysis

## 📁 Files Overview

### Essential Files
- **`CLAUDE_DOCENT_TASK.md`** - Complete implementation guide and documentation
- **`docent_trajectory_parser.py`** - Converts JSON trajectories to Docent format
- **`docent_proper_ingestion.py`** - Uploads data to Docent platform
- **`docent_prepared_data.json`** - Processed data (generated by parser)

### What Each Script Does

#### `docent_trajectory_parser.py`
- Reads trajectory JSON files from `../games_descriptions/base/output/base_test_small/`
- Extracts agent conversations, deals, and scratchpad reasoning
- Converts to Docent-compatible message format
- Saves processed data to `docent_prepared_data.json`

#### `docent_proper_ingestion.py`
- Creates proper Docent AgentRun objects with transcripts
- Uploads to your Docent collection
- Provides web dashboard URL for analysis

## 🔍 Analysis Capabilities

Once data is ingested, you can analyze:
- **Multi-agent negotiation patterns**
- **Strategy effectiveness** (cooperative vs greedy)
- **Deal evolution and convergence**
- **Decision-making through scratchpad reasoning**
- **Agent interaction dynamics**

## 🌐 Web Interface

After successful ingestion, view your data at:
https://docent-alpha.transluce.org/dashboard/[your-collection-id]

## 🔧 Troubleshooting

If ingestion fails:
1. Check your `DOCENT_API_KEY` is set correctly
2. Ensure you ran the parser first to generate `docent_prepared_data.json`
3. Verify you have network access to docent-alpha.transluce.org

## 📊 Data Overview

The system processes:
- **3 negotiation sessions** from trajectory files
- **30 total messages** (prompts and responses)
- **5 agent types**: SportCo, Environmental League, Department of Tourism, Mayor, Other cities
- **52+ deal proposals** with unique negotiation patterns

## 🎯 Next Steps

1. Run the workflow to ingest your data
2. Explore patterns in the Docent web interface
3. Use insights to improve your negotiation experiments
4. Scale to analyze larger trajectory datasets